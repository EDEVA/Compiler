.data
str_1: .asciiz "\n"
str_0: .asciiz "abc"
str_3: .asciiz "def"
str_2: .asciiz "in"

.text
jal main
li $v0 10
syscall

func1:
subi $sp, $sp, 84
move $t8, $a0
la $a0, str_3
li $v0, 4
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
addi $sp, $sp, 84
jr $ra

func2:
subi $sp, $sp, 84
move $a0, $a0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
addi $sp, $sp, 84
jr $ra

func3:
subi $sp, $sp, 84
move $t8, $a0
la $a0, str_2
li $v0, 4
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
move $v0, $a0
addi $sp, $sp, 84
jr $ra

main:
subi $sp, $sp, 164
move $t8, $a0
la $a0, str_0
li $v0, 4
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
li $t0, 1
li $t1, 1
add $t2, $t0, $t1
move $a0, $t2
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
add $t3, $t1, $t0
move $a0, $t3
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
sub $t4, $t0, $t1
move $a0, $t4
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
sub $t5, $t1, $t0
move $a0, $t5
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
li $t6, 2
mul $t7, $t0, $t6
move $a0, $t7
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
sw $t2, 44($sp)
div $t2, $t0, $t6
move $a0, $t2
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
sw $t2, 64($sp)
li $t2, 0
sll $t8, $t2, 2
add $t8, $t8, $sp
sw $t6, 0($t8)
sll $t8, $t2, 2
add $t8, $t8, $sp
sw $t3, 48($sp)
lw $t3, 0($t8)
move $a0, $t3
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
sll $t8, $t2, 2
add $t8, $t8, $sp
lw $t2, 0($t8)
sw $t2, 72($sp)
move $t2, $t2
move $a0, $t2
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
move $t2, $t0
move $a0, $t2
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
sw $t2, 40($sp)
sw $t3, 68($sp)
sw $t4, 52($sp)
sw $t5, 56($sp)
sw $t7, 60($sp)
ble $t0, $t1, label_1
li $t0, 1
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
j label_2
label_1:
li $t0, 2
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
label_2:
li $t0, 1
li $t1, 1
blt $t0, $t1, label_3
li $t0, 1
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
j label_4
label_3:
li $t0, 2
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
label_4:
li $t0, 1
li $t1, 1
bge $t0, $t1, label_5
li $t0, 1
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
j label_6
label_5:
li $t0, 2
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
label_6:
li $t0, 1
li $t1, 1
bgt $t0, $t1, label_7
li $t0, 1
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
j label_8
label_7:
li $t0, 2
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
label_8:
li $t0, 1
li $t1, 1
bne $t0, $t1, label_9
li $t0, 1
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
j label_10
label_9:
li $t0, 2
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
label_10:
sw $a0, 148($sp)
sw $a1, 152($sp)
sw $a2, 156($sp)
sw $a3, 160($sp)
sw $ra, 144($sp)
jal func1
lw $ra, 144($sp)
lw $a0, 148($sp)
lw $a1, 152($sp)
lw $a2, 156($sp)
lw $a3, 160($sp)
sw $a0, 148($sp)
sw $a1, 152($sp)
sw $a2, 156($sp)
sw $a3, 160($sp)
sw $ra, 144($sp)
li $t0, 8
move $a0, $t0
jal func2
lw $ra, 144($sp)
lw $a0, 148($sp)
lw $a1, 152($sp)
lw $a2, 156($sp)
lw $a3, 160($sp)
sw $a0, 148($sp)
sw $a1, 152($sp)
sw $a2, 156($sp)
sw $a3, 160($sp)
sw $ra, 144($sp)
li $t0, 9
move $a0, $t0
jal func3
lw $ra, 144($sp)
lw $a0, 148($sp)
lw $a1, 152($sp)
lw $a2, 156($sp)
lw $a3, 160($sp)
move $t1, $v0
sw $t1, 76($sp)
lw $t0, 76($sp)
move $a0, $t0
li $v0, 1
syscall 
move $a0, $t8
move $t8, $a0
la $a0, str_1
li $v0, 4
syscall 
move $a0, $t8
addi $sp, $sp, 164
jr $ra
